---
layout: default
title:  svg textpath演示
---

<style>
    html,
    body{
        margin: 0;
        padding: 0;
        height: 100%;
    }
</style>
<svg width=100% height=100%>
    <defs>
        <pattern id="demoPattern" x=0 y=0 width=20 height=20 patternUnits="userSpaceOnUse">
            <path d="M 0 0,H 20,M 0 0,V 20" stroke="#ddd" stroke-width=1 />
        </pattern>
    </defs>
    <rect x=0 y=0 width=100% height=100% fill="url(#demoPattern)" />
    <path d="M 100 200,q 100 -200 400 0,t 400 0" id="demoPath" fill="none" stroke="black" />

    <text id="demoText" text-anchor="start">
        <textpath xlink:href="#demoPath" startOffset="0" id="demoTextPath">
            ABCDEFGHIGKLMNOPQRSTUVWXYZ
        </textpath>
    </text>
</svg>
<script>
    var i = 0;
    var t = true;
    var length = demoPath.getTotalLength()-demoTextPath.offsetWidth;
    function frame () {
        if (i > length) {
            t = false;
        }
        if (i < 1) {
            t = true;
        }
        if (t) {
            i++;
        }else{
            i--;
        }
        demoTextPath.setAttribute('startOffset',i);
        requestAnimationFrame(frame);
    }
    frame();
</script>