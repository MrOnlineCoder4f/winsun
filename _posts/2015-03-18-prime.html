---
layout: default
title:  寻找素数
---
<style>
	#count{
		color: #f00;
	}
	span{
		display: inline-block;
		width: 50px;
	}
</style>
<div id="count"></div>
<div id="root"></div>
<!-- 
<script>
	var start = 2;

	function findPrime (n) {
		for (var i = 2; i*i < n; i++) {
			if (n % i == 0) {
				return false;
			}
		}
		return true;
	}

	var max = 100000;
	var num = 0;
	while(start<max){
		if (findPrime(start)) {
			var prime = document.createElement('span');
			prime.innerHTML = start;
			document.getElementById('root').appendChild(prime);
			num++;
		}
		start++;
	}
	document.getElementById('count').innerHTML = '在'+max+'以内的素数总共有'+num+'个';

</script>
 -->
<script>
	var max = 100000;
	var num = 0;
	var prime = new Array(max+1);
	for (var i = 2; i <= max; i++) {
		prime[i] = 1;
	};
	for (var i = 2; i*i <= max; i++) {
		if (prime[i] == 1) {
			for (var j = 2*i; j <= max; j++) {
				if (!prime[j]) {continue};
				if (j % i == 0) {prime[j]=0};
			};
		};
	};
	for (var i = 2; i <= max; i++) {
		if (prime[i] == 1) {
			var span = document.createElement('span');
			span.innerHTML = i;
			document.getElementById('root').appendChild(span);
			num++;
		};
	};
	document.getElementById('count').innerHTML = '在'+max+'以内的素数总共有'+num+'个';

</script>